var{isArray:A}=Array;(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c='function'==typeof require&&require,a=Error(`Cannot find module '${i}'`);if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw (a.code='MODULE_NOT_FOUND',a)}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u='function'==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(B,C){(function(_a){(function(){"use strict";const t='Content-Type',e=Symbol(),r=Symbol();function o(e={}){var r;return null==(r=Object.entries(e).find((([e])=>e.toLowerCase()===t.toLowerCase())))||r==void 0?void 0:r[1]}function s(t){return /^application\/.*json.*/.test(t)}const n=function(t,e,r=0){return Object.entries(e).reduce(((e,[o,s])=>{var i=t[o];A(i)&&A(s)?e[o]=r?[...i,...s]:s:e[o]='object'==typeof i&&'object'==typeof s?n(i,s,r):s;return e}),{...t})},i={options:{},errorType:'text',polyfills:{},polyfill(t,e=1,r=0,...o){var s=this.polyfills[t]||('undefined'!=typeof self?self[t]:null)||('undefined'!=typeof _a?_a[t]:null);if(e&&!s)throw Error(`${t} is not defined`);return r&&s?new s(...o):s}};class h extends Error{}const u=t=>{var o=Object.create(null);t=t._addons.reduce(((e,r)=>r.beforeRequest&&r.beforeRequest(e,t._options,o)||e),t);const{_url:s,_options:i,_config:u,_catchers:c,_resolvers:l,_middlewares:a,_addons:d}=t,f=new Map(c);let _=s;const y=(t=>e=>t.reduceRight(((t,e)=>e(t)),e)||e)(a)(((t,e)=>{_=t;return u.polyfill('fetch')(t,e)}))(s,n(u.options,i)),b=Error(),w=y.catch((t=>{throw {[e]:t}})).then((t=>{if(!t.ok){var e=new h();e.cause=b;e.stack=e.stack+'\nCAUSE: '+b.stack;e.response=t;e.url=_;if((t.type=='opaque'))throw e;return t.text().then((r=>{var o;e.message=r;if((u.errorType=='json'||'application/json'==(null===(o=t.headers.get('Content-Type'))||o===void 0?void 0:o.split(';')[0])))try {e.json=JSON.parse(r)} catch {}throw (e.text=r,e.status=t.status,e)}))}return t})),g=o=>s=>(o?w.then((t=>t&&t[o]())).then((t=>s?s(t):t)):w.then((t=>s?s(t):t))).catch((o=>{const s=o.hasOwnProperty(e),n=s?o[e]:o,i=(n==null?void 0:n.status)&&f.get(n.status)||f.get(n==null?void 0:n.name)||s&&f.has(e)&&f.get(e);if(i)return i(n,t);var h=f.get(r);if(h)return h(n,t);throw n}));return l.reduce(((e,r)=>r(e,t)),d.reduce(((t,e)=>({...t,...'function'==typeof e.resolver?e.resolver(t):e.resolver})),{_wretchReq:t,_fetchReq:y,_sharedState:o,res:g(null),json:g('json'),blob:g('blob'),formData:g('formData'),arrayBuffer:g('arrayBuffer'),text:g('text'),error(t,e){f.set(t,e);return this},badRequest(t){return this.error(400,t)},unauthorized(t){return this.error(401,t)},forbidden(t){return this.error(403,t)},notFound(t){return this.error(404,t)},timeout(t){return this.error(408,t)},internalError(t){return this.error(500,t)},fetchError(t){return this.error(e,t)}}))},c={_url:'',_options:{},_config:i,_catchers:new Map(),_resolvers:[],_deferred:[],_middlewares:[],_addons:[],addon(t){return{...this,_addons:[...this._addons,t], ...t.wretch}},errorType(t){return{...this,_config:{...this._config,errorType:t}}},polyfills(t,e=0){return{...this,_config:{...this._config,polyfills:e?t:n(this._config.polyfills,t)}}},url(t,e=0){if(e)return{...this,_url:t};var r=this._url.split('?');return{...this,_url:r.length>1?r[0]+t+'?'+r[1]:this._url+t}},options(t,e=0){return{...this,_options:e?t:n(this._options,t)}},headers(t){var e=t?A(t)?Object.fromEntries(t):'entries' in t?Object.fromEntries(t.entries()):t:{};return{...this,_options:n(this._options,{headers:e})}},accept(t){return this.headers({Accept:t})},content(e){return this.headers({[t]:e})},auth(t){return this.headers({Authorization:t})},catcher(t,e){var r=new Map(this._catchers);r.set(t,e);return{...this,_catchers:r}},catcherFallback(t){return this.catcher(r,t)},resolve(t,e=0){return{...this,_resolvers:e?[t]:[...this._resolvers,t]}},defer(t,e=0){return{...this,_deferred:e?[t]:[...this._deferred,t]}},middlewares(t,e=0){return{...this,_middlewares:e?t:[...this._middlewares,...t]}},fetch(t=this._options.method,e='',r=null){let n=this.url(e).options({method:t});const i=o(n._options.headers),h='object'==typeof r&&(!n._options.headers||!i||s(i));r&&(n=h?n.json(r,i):n.body(r));return u(n._deferred.reduce(((t,e)=>e(t,t._url,t._options)),n))},get(t=''){return this.fetch('GET',t)},delete(t=''){return this.fetch('DELETE',t)},put(t,e=''){return this.fetch('PUT',e,t)},post(t,e=''){return this.fetch('POST',e,t)},patch(t,e=''){return this.fetch('PATCH',e,t)},head(t=''){return this.fetch('HEAD',t)},opts(t=''){return this.fetch('OPTIONS',t)},body(t){return{...this,_options:{...this._options,body:t}}},json(t,e){var r=o(this._options.headers);return this.content(e||s(r)&&r||'application/json').body(JSON.stringify(t))}};function l(t='',e={}){return{...c,_url:t, _options:e}}l.default=l;l.options=(t,e=0)=>i.options=e?t:n(i.options,t);l.errorType=t=>i.errorType=t;l.polyfills=(t,e=0)=>i.polyfills=e?t:n(i.polyfills,t);l.WretchError=h;C.exports=l}).call(this)}).call(this,typeof global!=='undefined'?global:typeof self!=='undefined'?self:typeof window!=='undefined'?window:{})},{}],2:[function(D){var _b=D('wretch')(document.URL);window.addEventListener('DOMContentLoaded',()=>{let _A=$('#datatable').DataTable({'language':{'sProcessing':'Procesando...','sLengthMenu':'Mostrar _MENU_ entradas','sZeroRecords':'No se encontraron resultados','sEmptyTable':'Ningún dato disponible en esta tabla','sInfo':'Mostrando entradas de la _START_ a la _END_ de un total de _TOTAL_ entradas','sInfoEmpty':'No hay entradas disponibles','sInfoFiltered':'(filtrado de un total de _MAX_ entradas)','sInfoPostFix':'','sSearch':'Buscar: ','sUrl':'','sInfoThousands':',','sLoadingRecords':'Cargando...','oPaginate':{'sFirst':'Primero','sLast':'Último','sNext':'Siguiente','sPrevious':'Anterior'},'oAria':{'sSortAscending':': Activar para ordenar la columna de manera ascendente','sSortDescending':': Activar para ordenar la columna de manera descendente'}}});var _B=document.getElementById('date-filter-desde'),_c=document.getElementById('date-filter-hasta');let _d={min:_B.value,inicio:_B.value,fin:_c.value,max:_c.value};_B.addEventListener('change',async ()=>{let E=_B.value;await new Promise(aA=>setTimeout(aA,500));if(E!=_B.value)return;if(E<_d.min){let aB=(await _b.post({fecha:E,fecha_max:_d.min}).res(async aC=>aC.headers.get('Content-Type').includes('application/json')?aC.json():aC.text())).asistencias;_d.min=E;for(let i=0;i<aB.length;i++){let aD=aB[i];let aE=aD.clase[0];aD.motivo==null&&(aD.motivo='');for(let j=1;j<aD.clase.length;j++)aE+=', '+aD.clase[j];_A.row.add([aD.fecha,aD.hora,aE,aD.docente])}_A.draw(!1)}else E>=_d.min&&E<=_d.fin&&E!=_d.inicio&&(_A.search((aF,aG)=>{let _C=aG[0].split('/').reverse().join('-');return _C>=E&&_C<=_d.fin}),_A.draw(!0));_d.inicio=E});_c.addEventListener('change',async ()=>{let aH=_c.value;await new Promise(aI=>setTimeout(aI,500));if(aH!=_c.value)return;if(aH>_d.max){let aJ=(await _b.post({fecha:_d.max,fecha_max:aH}).res(async aK=>aK.headers.get('Content-Type').includes('application/json')?aK.json():aK.text())).asistencias;_d.max=aH;for(let i=0;i<aJ.length;i++){let aL=aJ[i];let aM=aL.clase[0];aL.motivo==null&&(aL.motivo='');for(let j=1;j<aL.clase.length;j++)aM+=', '+aL.clase[j];_A.row.add([aL.fecha,aL.hora,aL.espacio,aM,aL.docente])}_A.draw(!1)}else aH<=_d.max&&aH>=_d.inicio&&aH!=_d.fin&&(_A.search((aN,aO)=>{let aP=aO[0].split('/').reverse().join('-');return aP<=aH&&aP>=_d.inicio}),_A.draw(!0));_d.fin=aH})})},{'wretch':1}]},{},[2]);
